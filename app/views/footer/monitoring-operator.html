
{% extends "layout.html" %}

{% block pageTitle %}
Upcoming conjunction events
{% endblock %}

{% block content %}

    <main class="govuk-main-wrapper">
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">


          <h1 class="govuk-heading-xl">Performance monitoring and statistics</h1>
          <p> This page shows both perfomance data for the Monitor your satellites service and more detailed information about the object and event data processed by the service. This data is broken down by organisation and by satellite.</p>
          <br>
          <div class="govuk-grid-row">
            <div class="govuk-grid-column-full">
              <h3 class="govuk-heading-s">Performance monitoring</h3>
              <ul class="moj-side-navigation__list">
                <li class="moj-side-navigation__item">
                  <a href="#accordian-heading-1">CDM ingests</a>
                </li>
                <li class="moj-side-navigation__item">
                  <a href="#accordion-heading-1">Object data ingests</a>
                </li>
                <li class="moj-side-navigation__item">
                  <a href="#accordion-heading-2">UKSA analysis</a>
                </li>
                <li class="moj-side-navigation__item">
                  <a href="#accordion-heading-3">Notifications sent</a>
                </li>
                </ul>
                <h3 class="govuk-heading-s">Event and organisation data</h3>
                <ul class="moj-side-navigation__list">
                <li class="moj-side-navigation__item">
                  <a href="#accordion-heading-4">Number of events</a>
                </li>
                <li class="moj-side-navigation__item">
                  <a href="#accordion-heading-5">Events by organisation</a>
                </li>
                <li class="moj-side-navigation__item">
                  <a href="#accordion-heading-6">Events by Satellite</a>
                </li>
                <li class="moj-side-navigation__item">
                  <a href="#accordion-heading-6">Objects tracked</a>
                </li>
                </ul>
                <h2 class="govuk-heading-m">Performance monitoring</h2>
              <h2 class="govuk-heading-m">CDM ingests</h2>
                <div style="background-color:#f3f2f1">
                <p class="govuk-body-s">Latest ingest: 2022-06-22 15:17:30</p>
                  <div class="chartMenu">
                      </div>
                      <div class="chartCard">
                        <button onclick="timeFrame(this)" value="week">7 days</button>
                        <button onclick="timeFrame(this)" value="month">1 month</button>
                        <button onclick="timeFrame(this)" value="year">All time</button>
                        <div class="chartBox">
                          <canvas id="myChart1" width="400" height="100"></canvas>
                        </div>
                      </div>
                      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                      <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
                      <script>

                            const ctx1 = document.getElementById('myChart1');
                            const myChart1 = new Chart(ctx1, {
                            type: 'line',
                            options: {
                                scales: {
                                  x: {
                                      grid: {display: false
                                      },
                                      ticks: {},
                                  },
                                    y: {
                                        beginAtZero: true,
                                        grid: {display: false
                                        }
                                    }
                                }
                            },
                            data: {
                              labels: ['16/06/22', '17/06/22', '18/06/22', '19/06/22', '20/06/22', '21/06/22'],
                              datasets: [{
                                label: 'Space-Track',
                                data: [7950, 7316, 9175, 8201, 9180, 7260],
                                backgroundColor: '#003078',
                                borderColor: '#003078',
                                borderWidth: 1,
                                pointRadius: 1
                              },
                            ]
                            },
                          });
                      </script>
                    </div>
                    <table class="govuk-table" style="width:100%">
                        <thead class="govuk-table__head">
                        <tr class="govuk-table__row">
                          <th scope="colgroup" class="govuk-table__cell govuk-body-s"><b>Source</b></th>
                          <th scope="colgroup" class="govuk-table__cell govuk-body-s"><b>Type of source</b></th>
                          <th scope="colgroup" class="govuk-table__cell govuk-body-s"><b>Ingestion start</b></th>
                          <th scope="colgroup" class="govuk-table__cell govuk-body-s"><b>Ingestion stop</b></th>
                          <th scope="colgroup" class="govuk-table__cell govuk-body-s"><b>Number of items fetched</b></th>
                        </tr>
                        </thead>
                      <tbody class="govuk-table__body">
                        <tr class="govuk-table__row">
                          <td class="govuk-table__cell govuk-body-s" >Space-Track</td>
                          <td class="govuk-table__cell govuk-body-s">CDM</td>
                          <td class="govuk-table__cell govuk-body-s" >2022-06-22 15:17:30.560793</td>
                          <td class="govuk-table__cell govuk-body-s">2022-06-22 15:17:34.425801</td>
                          <td class="govuk-table__cell govuk-body-s">1204</td>
                        </tr>
                        <tr class="govuk-table__row">
                          <td class="govuk-table__cell govuk-body-s" >Space-Track</td>
                          <td class="govuk-table__cell govuk-body-s">CDM</td>
                          <td class="govuk-table__cell govuk-body-s" >2022-06-22 15:17:30.560793</td>
                          <td class="govuk-table__cell govuk-body-s">2022-06-22 15:17:34.425801</td>
                          <td class="govuk-table__cell govuk-body-s">8039</td>
                        </tr>
                        <tr class="govuk-table__row">
                          <td class="govuk-table__cell govuk-body-s" >Space-Track</td>
                          <td class="govuk-table__cell govuk-body-s">CDM</td>
                          <td class="govuk-table__cell govuk-body-s" >2022-06-22 15:17:30.560793</td>
                          <td class="govuk-table__cell govuk-body-s">2022-06-22 15:17:34.425801</td>
                          <td class="govuk-table__cell govuk-body-s">5384</td>
                        </tr>
                      </tbody>
                      </table>
                      <details class="govuk-details" data-module="govuk-details">
                        <summary class="govuk-details__summary">
                          <span class="govuk-details__summary-text">
                            Help with this table
                          </span>
                        </summary>
                        <div class="govuk-details__text">
                          This table shows performance monitoring information for the external sources of CDMs that Monitor your satellites ingests.
                          <p> </p>
                          <ul class="govuk-list govuk-list--bullet">
                            <li>Ingestion start and stop show the time the last data ingest started and finished</li>
                            <li>Number of items fetched shows how many items were retrieved</li>
                          </ul>
                        </div>
                    </details>
                  <h2 class="govuk-heading-m">Object data ingests</h2>
                    <div style="background-color:#f3f2f1">
                    <p class="govuk-body-s">Latest ingest: 2022-06-22 15:17:30</p>
                    <div>
                      <button onclick="timeFrame(this)" value="week2">7 days</button>
                      <button onclick="timeFrame(this)" value="month2">1 month</button>
                      <button onclick="timeFrame(this)" value="year2">All time</button>
                      <canvas id="myChart2" width="400" height="100"></canvas>
                      <script>
                        const ctx2 = document.getElementById('myChart2');
                        const myChart2 = new Chart(ctx2, {
                        type: 'line',
                        options: {
                            scales: {
                              x: {
                                  grid: {display: false
                                  },
                                  ticks: {},
                              },
                                y: {
                                    beginAtZero: true,
                                    grid: {display: false
                                    }
                                }
                            }
                        },
                        data: {
                          labels: ['16/06/22', '17/06/22', '18/06/22', '19/06/22', '20/06/22', '21/06/22'],
                          datasets: [{
                            label: 'Space-Track',
                            data: [12359, 11900, 12000, 11900, 11900, 12359],
                            backgroundColor: '#003078',
                            borderColor: '#003078',
                            borderWidth: 1,
                            pointRadius: 1
                          },
                          {
                            label: 'ESA-DISCOS',
                            data: [10359, 9900, 11000, 10900, 9900, 11359],
                            backgroundColor: 'rgb(255, 99, 132)',
                            borderColor: 'rgb(255, 99, 132)',
                            borderWidth: 1,
                            pointRadius: 1

                          }
                          ]
                        },
                      });
                      </script>
                      </div>
                    </div>
                  <table class="govuk-table eff-table--sticky eff-table--padding-right-on-last-cell" style="width:100%">
                      <thead class="govuk-table__head">
                      <tr class="govuk-table__row">
                          <th scope="colgroup" class="govuk-table__cell govuk-body-s"><b>Source</b></th>
                          <th scope="colgroup" class="govuk-table__cell govuk-body-s"><b>Type of source</b></th>
                          <th scope="colgroup" class="govuk-table__cell govuk-body-s"><b>Ingestion start</b></th>
                          <th scope="colgroup" class="govuk-table__cell govuk-body-s"><b>Ingestion stop</b></th>
                          <th scope="colgroup" class="govuk-table__cell govuk-body-s"><b>Number of items fetched</b></th>
                      </tr>
                      </thead>
                    <tbody class="govuk-table__body">
                      <tr class="govuk-table__row">
                        <td class="govuk-table__cell govuk-body-s" >Space-Track</td>
                        <td class="govuk-table__cell govuk-body-s">Satellite</td>
                        <td class="govuk-table__cell govuk-body-s" >2022-06-22 15:17:30.560793</td>
                        <td class="govuk-table__cell govuk-body-s">2022-06-22 15:17:34.425801</td>
                        <td class="govuk-table__cell govuk-body-s">1204</td>
                      </tr>
                      <tr class="govuk-table__row">
                        <td class="govuk-table__cell govuk-body-s" >Space-Track</td>
                        <td class="govuk-table__cell govuk-body-s">Satellite</td>
                        <td class="govuk-table__cell govuk-body-s" >2022-06-22 15:17:30.560793</td>
                        <td class="govuk-table__cell govuk-body-s">2022-06-22 15:17:34.425801</td>
                        <td class="govuk-table__cell govuk-body-s">8039</td>
                      </tr>
                      <tr class="govuk-table__row">
                        <td class="govuk-table__cell govuk-body-s" >ESA-Discos</td>
                        <td class="govuk-table__cell govuk-body-s">Satellite</td>
                        <td class="govuk-table__cell govuk-body-s" >2022-06-22 15:17:30.560793</td>
                        <td class="govuk-table__cell govuk-body-s">2022-06-22 15:17:34.425801</td>
                        <td class="govuk-table__cell govuk-body-s">5384</td>
                      </tr>
                    </tbody>
                  </table>
                  <details class="govuk-details" data-module="govuk-details">
                  <summary class="govuk-details__summary">
                    <span class="govuk-details__summary-text">
                      Help with this table
                    </span>
                  </summary>
                  <div class="govuk-details__text">
                    This table shows performance monitoring information for the external data sources of satellite information that Monitor your satlelites ingests.
                    <p> </p>
                    <ul class="govuk-list govuk-list--bullet">
                      <li>Ingestion start and stop show the time the last data ingest started and finished</li>
                      <li>Number of items fetched shows how many items were retrieved</li>
                    </ul>
                  </div>
                  </details>
                  <h2 class="govuk-heading-m">UKSA analysis</h2>
                  <p> Events that have additional UKSA analysis from orbital analysts and events with additional analysis that include one of your licensed satellites. </p>
                  <img src="/public/images/uksa-analysis-operator.png">
                  <br>
                  <br>
                  <h2 class="govuk-heading-m"> Notfications sent</h2>
                  <p> Number of total, sms and email notifications sent by Monitor your satellites to your organisation.</p>
                  <img src="/public/images/notifications-operator.png">
                  <br>
                  <br>
                    <h2 class="govuk-heading-m">Event and organisation data</h2>
                    <h2 class="govuk-heading-m">Total events</h2>
                    <p> Total number of conjunction events monitored and a breakdown of their type. </p>
                    <img src="/public/images/event-type-all.png">
                    <br>
                    <br>
                    <h2 class="govuk-heading-m">Events by organisation</h2>
                    <p> Events and their probability of collision for all events and for organisation specific events.</p>
                    <img src="/public/images/event-by-organisation-operator.png">
                    <br>
                  <h2 class="govuk-heading-m">Events by satellite</h2>
                  <p> This graph shows the registered satellites your organisation has and the number of events each has been involved in, highlighting higher probability events.</p>
                  <img src="/public/images/event-by-satellite-operator.png">
                  <br>
                  <br>
                  <h2 class="govuk-heading-m">Objects tracked</h2>
                  <p> Number of objects tracked and their type (satellite, debris or other).</p>
                  <img src="/public/images/objects-tracked-all.png">

  </main>
  </div>

<script src="<sst-alpha>/<application>.js"></script>

<script>
window.MOJFrontend.initAll()
</script>

{% endblock %}
